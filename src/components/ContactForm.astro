---
import Button from './ui/button.astro';
---

<form
  data-netlify='true'
  method='POST'
  id='form'
  name='contact-form'
  class='needs-validation'
  novalidate
>
  <div class='mb-5'>
    <input
      type='text'
      placeholder='Full Name'
      required
      class='w-full rounded-md border-2 border-gray-300 px-4 py-3 outline-none ring-gray-100 placeholder:text-gray-800 focus:border-gray-600 focus:ring-4'
      name='name'
    />
    <div class='empty-feedback invalid-feedback mt-1 text-sm text-red-400'>
      Please provide your full name.
    </div>
  </div>
  <div class='mb-5'>
    <label for='email_address' class='sr-only'>Email Address</label><input
      id='email_address'
      type='email'
      placeholder='Email Address'
      name='email'
      required
      class='w-full rounded-md border-2 border-gray-300 px-4 py-3 outline-none ring-gray-100 placeholder:text-gray-800 focus:border-gray-600 focus:ring-4'
    />
    <div class='empty-feedback mt-1 text-sm text-red-400'>
      Please provide your email address.
    </div>
    <div class='invalid-feedback mt-1 text-sm text-red-400'>
      Please provide a valid email address.
    </div>
  </div>
  <div class='mb-5'>
    <input
      type='tel'
      placeholder='Phone Number'
      required
      class='w-full rounded-md border-2 border-gray-300 px-4 py-3 outline-none ring-gray-100 placeholder:text-gray-800 focus:border-gray-600 focus:ring-4'
      name='phone'
    />
    <div class='empty-feedback invalid-feedback mt-1 text-sm text-red-400'>
      Please provide your phone number.
    </div>
  </div>
  <div class='mb-3'>
    <textarea
      name='message'
      required
      placeholder='Your Message'
      class='h-36 w-full rounded-md border-2 border-gray-300 px-4 py-3 outline-none ring-gray-100 placeholder:text-gray-800 focus:border-gray-600 focus:ring-4'
    ></textarea>
    <div class='empty-feedback invalid-feedback mt-1 text-sm text-red-400'>
      Please enter your message.
    </div>
  </div>
  <Button type='submit' size='lg' block>Send Message</Button>
  <div id='result' class='mt-3 text-center'></div>
</form>

<style>
  .invalid-feedback,
  .empty-feedback {
    display: none;
  }

  .was-validated :placeholder-shown:invalid ~ .empty-feedback {
    display: block;
  }

  .was-validated :not(:placeholder-shown):invalid ~ .invalid-feedback {
    display: block;
  }

  .is-invalid,
  .was-validated :invalid {
    border-color: #dc3545;
  }
</style>
